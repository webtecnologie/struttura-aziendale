<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title | default: site.title }}</title>

  <!-- CSS del sito -->
  <link rel="stylesheet" href="{{ '/assets/css/site.css' | relative_url }}" />

  <!-- Icone Fluent (se vuoi usarle nei bottoni/menu) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fluentui/svg-icons/fonts/fluent-icons.css" />

  <!-- Permetti a browser/OS di usare light/dark -->
  <meta name="color-scheme" content="light dark" />
</head>

<body class="wt-body">
  <!-- HEADER -->
  <header class="wt-header">
    <div class="wt-container wt-nav" role="navigation" aria-label="Navigazione principale">

      <!-- BRAND: logo a sinistra + nome -->
      <div class="wt-brand">
        <a class="wt-brand-link" href="{{ '/' | relative_url }}" aria-label="{{ site.brand.name }}">
          {% if site.brand.logo %}
            <!-- Se hai anche una variante scura, valorizza data-logo-dark -->
            <img src="{{ site.brand.logo | relative_url }}"
                 class="wt-logo"
                 alt="Logo {{ site.brand.name }}"
                 data-logo-light="{{ site.brand.logo | relative_url }}"
                 {% if site.brand.logo_dark %} data-logo-dark="{{ site.brand.logo_dark | relative_url }}" {% endif %} />
          {% endif %}
          <span class="wt-brand-text">{{ site.brand.name }}</span>
        </a>
      </div>

      <!-- Bottone cambio tema -->
      <button class="wt-theme-toggle" type="button" aria-label="Cambia tema" onclick="WT.toggleTheme()">
        <span class="wt-theme-ico wt-sun" aria-hidden="true">â˜€ï¸</span>
        <span class="wt-theme-ico wt-moon" aria-hidden="true">ğŸŒ™</span>
      </button>

      <!-- Burger mobile -->
      <button class="wt-burger" type="button" aria-label="Apri/chiudi menu" onclick="WT.toggleSidebar()">â˜°</button>

      <!-- MENU desktop -->
      <nav class="wt-menu" aria-label="Menu">
        {% for item in site.nav %}
          <a href="{{ item.url | relative_url }}">{{ item.name }}</a>
        {% endfor %}
      </nav>
    </div>
  </header>

  <!-- SIDEBAR mobile -->
  <aside id="wt-sidebar" class="wt-sidebar" aria-label="Menu laterale" aria-hidden="true">
    <div class="wt-sidebar-head">
      <strong>Menu</strong>
      <button type="button" aria-label="Chiudi" onclick="WT.toggleSidebar()">Ã—</button>
    </div>

    <nav class="wt-sidebar-links">
      {% for item in site.nav %}
        <a href="{{ item.url | relative_url }}">{{ item.name }}</a>
      {% endfor %}
    </nav>

    <div class="wt-sidebar-theme">
      <button class="wt-theme-toggle" type="button" onclick="WT.toggleTheme()">
        <span class="wt-theme-ico wt-sun">â˜€ï¸</span>
        <span class="wt-theme-ico wt-moon">ğŸŒ™</span>
        <span class="wt-theme-text">Tema</span>
      </button>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="wt-main wt-container">
    {{ content }}
  </main>

  <!-- FOOTER -->
  <footer class="wt-footer">
    <div class="wt-container">
      Â© {{ site.time | date: "%Y" }} {{ site.brand.name }} â€” Tutti i diritti riservati
    </div>
  </footer>

  <!-- JS del sito -->
  <script src="{{ '/assets/js/site.js' | relative_url }}"></script>
  <script>
    // Applica il tema memorizzato appena carica la pagina
    if (window.WT && WT.applyStoredTheme) WT.applyStoredTheme();
  </script>
</body>
</html>
