<!DOCTYPE html>
<html lang="{{ page.lang | default: 'it' }}">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title | default: site.title }} â€” {{ site.brand.name }}</title>

  <!-- SEO -->
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="keywords" content="sviluppo web, AI, cloud, enterprise, sharepoint, react, nextjs">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

  <!-- Social Media -->
  <meta property="og:title" content="{{ page.title | default: site.title }} â€” {{ site.brand.name }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  {% if site.brand.logo %}
  <meta property="og:image" content="{{ site.brand.logo | absolute_url }}">
  {% endif %}

  <!-- Styles & Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/assets/css/site.css' | relative_url }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fluentui/svg-icons/fonts/fluent-icons.css">
  <meta name="color-scheme" content="light dark" />
</head>

<body class="wt-body">

  {%- assign is_en = false -%}
  {%- if page.lang == 'en' -%}
  {%- assign is_en = true -%}
  {%- else -%}
  {%- if page.url contains '/en/' -%}
  {%- assign is_en = true -%}
  {%- endif -%}
  {%- endif -%}

  {%- assign current_path = page.url | default: '/' -%}

  {%- if is_en -%}
  {%- assign url_en = current_path -%}
  {%- if current_path == '/en/' -%}{%- assign url_it = '/' -%}
  {%- elsif current_path contains '/en/services/' -%}{%- assign url_it = '/servizi/' -%}
  {%- elsif current_path contains '/en/projects/' -%}{%- assign url_it = '/progetti/' -%}
  {%- elsif current_path contains '/en/contact/' -%}{%- assign url_it = '/contatti/' -%}
  {%- else -%}{%- assign url_it = current_path | replace: '/en/', '/' -%}
  {%- endif -%}
  {%- else -%}
  {%- assign url_it = current_path -%}
  {%- if current_path == '/' -%}{%- assign url_en = '/en/' -%}
  {%- elsif current_path contains '/servizi/' -%}{%- assign url_en = '/en/services/' -%}
  {%- elsif current_path contains '/progetti/' -%}{%- assign url_en = '/en/projects/' -%}
  {%- elsif current_path contains '/contatti/' -%}{%- assign url_en = '/en/contact/' -%}
  {%- else -%}{%- assign url_en = '/en' | append: current_path -%}
  {%- endif -%}
  {%- endif -%}

  {%- assign en_enabled = site.data.i18n.en_enabled | default: true -%}

  <header class="wt-header">
    <div class="wt-container wt-nav">
      <div class="wt-brand">
        <a href="{{ '/' | relative_url }}" class="wt-brand-link">
          {% if site.brand.logo %}
          <img src="{{ site.brand.logo | relative_url }}" alt="Logo" class="wt-logo">
          {% endif %}
          <span class="wt-brand-text">{{ site.brand.name }}</span>
        </a>
      </div>

      {% if is_en %}{% assign nav_items = site.nav_en %}{% else %}{% assign nav_items = site.nav %}{% endif %}

      <nav class="wt-menu" role="tablist">
        {% for item in nav_items %}
        <a href="{{ item.url | relative_url }}" class="wt-nav-item {% if page.url == item.url %}active{% endif %}"
          role="tab">
          {{ item.name }}
        </a>
        {% endfor %}
      </nav>

      <div class="wt-actions">
        <div class="wt-lang">
          <a class="wt-lang-item {% unless is_en %}active{% endunless %}" href="{{ url_it | relative_url }}">IT</a>
          <span class="wt-lang-sep">|</span>
          {% if en_enabled %}
          <a class="wt-lang-item {% if is_en %}active{% endif %}" href="{{ url_en | relative_url }}">EN</a>
          {% else %}
          <span class="wt-lang-item wt-disabled">EN</span>
          {% endif %}
        </div>

        <button class="wt-theme-toggle" onclick="WT.toggleTheme()" aria-label="Cambia Tema">
          <span class="wt-theme-ico wt-sun">â˜€ï¸</span>
          <span class="wt-theme-ico wt-moon">ğŸŒ™</span>
        </button>

        <button class="wt-burger" onclick="WT.toggleSidebar()" aria-label="Menu Mobile">â˜°</button>
      </div>
    </div>
  </header>

  <aside id="wt-sidebar" class="wt-sidebar" aria-hidden="true">
    <div class="wt-sidebar-head">
      <strong>Menu</strong>
      <button onclick="WT.toggleSidebar()" class="wt-theme-toggle">Ã—</button>
    </div>
    <nav class="wt-sidebar-links">
      {% for item in nav_items %}
      <a href="{{ item.url | relative_url }}" {% if page.url==item.url %}class="active" {% endif %}>{{ item.name }}</a>
      {% endfor %}
    </nav>
  </aside>

  <main class="wt-main">
    <div class="wt-container">
      {{ content }}
    </div>
  </main>

  <footer class="wt-footer">
    <div class="wt-container">
      <div style="margin-bottom: 20px;">
        <strong>{{ site.brand.name }}</strong><br>
        {{ site.description }}
      </div>
      <p>Â© {{ site.time | date: "%Y" }} â€” {% if is_en %}Designed with â¤ï¸ for Enterprise{% else %}Realizzato con â¤ï¸ per
        le Aziende{% endif %}</p>
    </div>
  </footer>

  <script src="{{ '/assets/js/site.js' | relative_url }}"></script>
  <script>
    if (window.WT && WT.applyStoredTheme) WT.applyStoredTheme();
  </script>

</body>

</html>